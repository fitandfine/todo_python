{% extends 'base.html' %}

{% block content %}
  <h2 class="h5 mb-3">{{ 'Edit' if task else 'New' }} Task</h2>
  <form method="post">
    <div class="mb-3">
      <label class="form-label">Title</label>
      <input name="title" class="form-control" value="{{ task.title if task else '' }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea name="description" class="form-control" rows="4">{{ task.description if task else '' }}</textarea>
    </div>

    <div class="row">
      <div class="col-md-4 mb-3">
        <label class="form-label">Tag</label>
        <input name="tag" class="form-control" value="{{ task.tag if task else '' }}">
      </div>

      <div class="col-md-4 mb-3">
        <label class="form-label">Due date</label>
        <input name="due_date" type="date" class="form-control" value="{{ task.due_date if task and task.due_date else '' }}">
      </div>

      <div class="col-md-4 mb-3">
        <label class="form-label">Status</label>
        <select name="status" class="form-select">
          <option value="todo" {% if task and task.status == 'todo' %}selected{% endif %}>To do</option>
          <option value="doing" {% if task and task.status == 'doing' %}selected{% endif %}>Doing</option>
          <option value="done" {% if task and task.status == 'done' %}selected{% endif %}>Done</option>
        </select>
      </div>
    </div>

    <div class="mt-3">
      <button class="btn btn-primary">Save</button>
      <a class="btn btn-light" href="{{ url_for('index') }}">Cancel</a>
    </div>
  </form>
{% endblock %}
